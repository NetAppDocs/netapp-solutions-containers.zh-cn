---
sidebar: sidebar 
permalink: openshift/os-netapp-element.html 
keywords: NetApp, Element, Solidfire, iSCSI 
summary: NetApp Element软件提供模块化、可扩展的性能，每个存储节点都为环境提供有保证的容量和吞吐量。  NetApp Element系统可以在单个集群中从 4 个节点扩展到 100 个节点，并提供许多高级存储管理功能。 
---
= NetApp Element：Red Hat OpenShift 与NetApp
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ../media/


[role="lead"]
NetApp Element软件提供模块化、可扩展的性能，每个存储节点都为环境提供有保证的容量和吞吐量。  NetApp Element系统可以在单个集群中从 4 个节点扩展到 100 个节点，并提供许多高级存储管理功能。

image:redhat-openshift-064.png["该图显示输入/输出对话框或表示书面内容"]

有关NetApp Element存储系统的更多信息，请访问 https://www.netapp.com/data-storage/solidfire/["NetApp Solidfire 网站"^]。



== iSCSI 登录重定向和自我修复功能

NetApp Element软件利用 iSCSI 存储协议，这是在传统 TCP/IP 网络上封装 SCSI 命令的标准方法。当 SCSI 标准发生变化或以太网性能提高时，iSCSI 存储协议将受益，而无需进行任何更改。

尽管所有存储节点都有一个管理 IP 和一个存储 IP，但NetApp Element软件会为集群中的所有存储流量公布一个存储虚拟 IP 地址（SVIP 地址）。作为 iSCSI 登录过程的一部分，存储可以响应目标卷已移动到不同的地址，因此无法继续协商过程。然后，主机会向新地址重新发出登录请求，整个过程不需要主机端重新配置。此过程称为 iSCSI 登录重定向。

iSCSI 登录重定向是NetApp Element软件集群的关键部分。当收到主机登录请求时，节点根据 IOPS 和卷的容量要求决定集群中的哪个成员应该处理流量。卷分布在NetApp Element软件集群中，如果单个节点处理的卷流量过多或添加了新节点，则会重新分配。在整个阵列中分配给定卷的多个副本。

通过这种方式，如果节点故障后进行卷重新分配，则除了注销并登录并重定向到新位置之外，对主机连接没有影响。借助 iSCSI 登录重定向， NetApp Element软件集群是一种可自我修复、横向扩展的架构，能够实现无中断升级和运行。



== NetApp Element软件集群 QoS

NetApp Element软件集群允许根据每个卷动态配置 QoS。您可以使用每个卷的 QoS 设置根据您定义的 SLA 来控制存储性能。以下三个可配置参数定义 QoS：

* *最低 IOPS。* NetApp Element软件集群为卷提供的最小持续 IOPS 数。为卷配置的最小 IOPS 是卷的保证性能级别。每卷的性能不会低于这个水平。
* *最大 IOPS。*  NetApp Element软件集群为特定卷提供的最大持续 IOPS 数。
* *突发 IOPS。*短时间突发场景下允许的最大 IOPS 数。突发持续时间设置是可配置的，默认为 1 分钟。如果卷的运行速度低于最大 IOPS 水平，则会累积突发积分。当性能水平变得非常高并被推动时，卷上允许出现超出最大 IOPS 的短时间突发 IOPS。




== 多租户

安全多租户通过以下功能实现：

* *安全认证。*质询握手身份验证协议 (CHAP) 用于安全卷访问。轻量级目录访问协议 (LDAP) 用于安全访问集群以进行管理和报告。
* 卷访问组 (VAG)。或者，可以使用 VAG 代替身份验证，将任意数量的 iSCSI 启动器特定的 iSCSI 限定名称 (IQN) 映射到一个或多个卷。要访问 VAG 中的卷，启动器的 IQN 必须位于该卷组允许的 IQN 列表中。
* 租户虚拟局域网 (VLAN)。在网络级别，通过使用 VLAN 实现 iSCSI 启动器和NetApp Element软件集群之间的端到端网络安全。对于为隔离工作负载或租户而创建的任何 VLAN， NetApp Element Software 都会创建一个单独的 iSCSI 目标 SVIP 地址，该地址只能通过特定的 VLAN 访问。
* *启用 VRF 的 VLAN。*为了进一步支持数据中心的安全性和可扩展性， NetApp Element软件允许您启用任何租户 VLAN 以实现类似 VRF 的功能。此功能增加了以下两个关键功能：
+
** *L3 路由到租户 SVIP 地址。*此功能允许您将 iSCSI 启动器放置在与NetApp Element软件集群不同的网络或 VLAN 上。
** *重叠或重复的 IP 子网。*此功能使您能够向租户环境添加模板，从而允许每个相应的租户 VLAN 分配来自同一 IP 子网的 IP 地址。此功能对于服务提供商环境中非常有用，因为 IP 空间的规模和保存非常重要。






== 企业存储效率

NetApp Element软件集群提高了整体存储效率和性能。以下功能以内联方式执行，始终处于开启状态，并且不需要用户手动配置：

* *重复数据删除*系统仅存储唯一的 4K 块。任何重复的 4K 块都会自动与已存储的数据版本相关联。数据位于块驱动器上，并使用NetApp Element软件 Helix 数据保护进行镜像。该系统大大减少了容量消耗和系统内的写入操作。
* *压缩。*在数据写入NVRAM之前，压缩是内联执行的。数据被压缩，存储在 4K 块中，并在系统中保持压缩状态。这种压缩显著减少了整个集群的容量消耗、写入操作和带宽消耗。
* *精简配置。*此功能可在您需要时提供适量的存储，从而消除因卷过度配置或卷利用不足而导致的容量消耗。
* *螺旋。*单个卷的元数据存储在元数据驱动器上，并复制到辅助元数据驱动器以实现冗余。



NOTE: Element 是为自动化而设计的。所有存储功能均可通过 API 获得。这些 API 是 UI 用来控制系统的唯一方法。
